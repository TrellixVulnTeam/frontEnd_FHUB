# GameControl

- 游戏控制器类，其可以控制其它的所有类

## 1.思考GameControl类应该具有的属性和方法

### 1.1 属性

- 蛇snake
- 食物food
- 记分牌score_panel
- 蛇的移动方向direction(贪吃蛇是按键后改变方向然后一直移动)

### 1.2 方法

- 初始化init()，在构造函数调用直接启动游戏

## 2. init方法

- 监听键盘按下事件，改变direction
- 注意this

``` typescript
    // 游戏初始化，调用后游戏开始
    init() {
        // 监控键盘按下事件，移动蛇
        // 这里的this仍然指向GameControl对象，通过this.keydownHandler找到keydownHandler函数
        // 再通过bind方法改变了keydownHandler的this指向，不再指向调用者而是一直指向GameControl对象。
        // 将这改变了this的函数作为回调函数
        document.addEventListener('keydown', this.keydownHandler.bind(this));
    }
    // 按下键盘后的回调，键盘按下回调
    keydownHandler(event: KeyboardEvent) {

        this.direction = event.key;
    }
```

