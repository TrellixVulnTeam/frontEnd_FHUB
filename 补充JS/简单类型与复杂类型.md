# 简单类型和复杂类型

## 1.简单类型与复杂类型

### 1.1简单类型

- 又叫做`基本数据类型`或者`值类型`
- 在存储时**`变量中存储的是值本身`**，因此叫做值类型
- string ，number，boolean，undefined，null

### 1.2复杂类型

- 又叫做`引用类型`。
- 在存储时**`变量中存储的仅仅是地址（引用）`**，因此叫做引用数据类型
- 通过 `new 关键字创建的对象（系统对象、自定义对象）`，如 Object、Array、Date、function等

## 2. 堆和栈

![img](https://api2.mubu.com/v3/document_image/1c6995d9-ab64-4de1-9384-d8203d1c7a05-10071129.jpg)

### 2.1 栈（操作系统）

- 由`操作系统自动分配释放`存放`函数的参数值`、`局部变量的值`等。
- 其操作方式类似于数据结构中的栈
- **`简单数据类型`**存放到栈里面

### 2.2 堆（操作系统）

- 一般由`程序员分配释放`，若程序员不释放，由垃圾回收机制回收
- **`复杂数据类型`**存放到堆里面

## 3. 简单类型的内存分配

![img](https://api2.mubu.com/v3/document_image/e53d7c11-3731-4ece-bae9-20630f5413fd-10071129.jpg)

值类型/简单数据类型变量的**`数据直接存放在变量（栈空间）中`**

**`为变量在栈中开辟一块内存空间，然后在内存空间里存储值`**

## 4. 复杂类型的内存分配

![img](https://api2.mubu.com/v3/document_image/08bd1681-e27d-4c7c-96c4-b9868066c664-10071129.jpg)

**`引用类型变量（栈空间）里存放的是地址`**，**`真正的对象实例存放在堆空间中`**。首先**`在栈里面存放地址`**，十六进制表示，然后**`这个地址指向堆里面的数据`**

## 5. 简单类型传参

我们把一个`值类型/简单类型变量`作为参数传给函数的形参时，其实是**`把变量在栈空间里的值复制了一份给形参`**，那么**`在方法内部对形参做任何修改，都不会影响到的外部变量`**。

![img](https://api2.mubu.com/v3/document_image/ade2014b-1300-44d3-b44e-c0fde68d44f5-10071129.jpg)

过程：`为X在栈中开辟一个存储空间，存储值10`；调用函数的时候，`形参a也是一个变量`，`会在栈中给它开辟一个存储空间，里面存着x里的值10`，**`函数里面的操作，会改变a里的值，对x没有影响`**

## 6. 复杂类型传参

![img](https://api2.mubu.com/v3/document_image/7f35cd7d-2f03-472f-9433-7b061584c59e-10071129.jpg)

**`函数的形参也可以看做是一个变量`**，当我们`把引用类型变量传给形参`时，其实是`把变量在栈空间里保存的堆地址复制给了形参`，`形参和实参其实保存的是同一个堆地址`，所以**`操作的是同一个对象`**。

![img](https://api2.mubu.com/v3/document_image/cacfcd47-b3dd-4685-9234-42c6982ab5a6-10071129.jpg)

过程：`为变量p在栈里开辟一块空间，里面存储的是对象的地址`，调用函数时，`给x在栈里开辟一块存储空间，存储p里的值，即对象的地址`。因而**`实际上对x的操作，就是对其所指向的对象的操作`**，**`p也指向这个对象，所以会改变`**。

